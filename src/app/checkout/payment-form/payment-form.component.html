<div class="payment-form-container">
  <h2>Payment Information</h2>

  <form [formGroup]="paymentForm">
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Payment Method</mat-label>
      <mat-select formControlName="paymentMethod" required>
        <mat-option value="credit_card">Credit Card</mat-option>
      </mat-select>
      <mat-error *ngIf="paymentForm.get('paymentMethod')?.hasError('required')">
        Payment method is required
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Card Number</mat-label>
      <input
        matInput
        formControlName="cardNumber"
        [type]="hideCardNumber ? 'password' : 'text'"
        placeholder="Enter your card number"
        required
      />
      <mat-icon matPrefix>credit_card</mat-icon>
      <button
        mat-icon-button
        matSuffix
        (click)="hideCardNumber = !hideCardNumber"
        [attr.aria-label]="'Hide card number'"
        [attr.aria-pressed]="hideCardNumber"
        type="button"
      >
        <mat-icon>{{
          hideCardNumber ? "visibility_off" : "visibility"
        }}</mat-icon>
      </button>
      <mat-error *ngIf="paymentForm.get('cardNumber')?.hasError('required')">
        Card number is required
      </mat-error>
      <mat-error *ngIf="paymentForm.get('cardNumber')?.hasError('pattern')">
        Please enter a valid card number (13-19 digits)
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Cardholder Name</mat-label>
      <input
        matInput
        formControlName="cardHolderName"
        placeholder="Enter cardholder name"
        required
      />
      <mat-icon matPrefix>person</mat-icon>
      <mat-error
        *ngIf="paymentForm.get('cardHolderName')?.hasError('required')"
      >
        Cardholder name is required
      </mat-error>
    </mat-form-field>

    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>Expiration Date (MM/YY)</mat-label>
        <input
          matInput
          formControlName="cardExpirationDate"
          placeholder="MM/YY"
          required
        />
        <mat-icon matPrefix>date_range</mat-icon>
        <mat-error
          *ngIf="paymentForm.get('cardExpirationDate')?.hasError('required')"
        >
          Expiration date is required
        </mat-error>
        <mat-error
          *ngIf="paymentForm.get('cardExpirationDate')?.hasError('pattern')"
        >
          Please enter a valid expiration date (MM/YY)
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>CVV</mat-label>
        <input
          matInput
          formControlName="cvv"
          [type]="hideCvv ? 'password' : 'text'"
          placeholder="Enter CVV"
          required
        />
        <mat-icon matPrefix>lock</mat-icon>
        <button
          mat-icon-button
          matSuffix
          (click)="hideCvv = !hideCvv"
          [attr.aria-label]="'Hide CVV'"
          [attr.aria-pressed]="hideCvv"
          type="button"
        >
          <mat-icon>{{ hideCvv ? "visibility_off" : "visibility" }}</mat-icon>
        </button>
        <mat-error *ngIf="paymentForm.get('cvv')?.hasError('required')">
          CVV is required
        </mat-error>
        <mat-error *ngIf="paymentForm.get('cvv')?.hasError('pattern')">
          Please enter a valid CVV (3-4 digits)
        </mat-error>
      </mat-form-field>
    </div>
  </form>
</div>
